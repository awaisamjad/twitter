<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Profile</title>
  </head>

  <script>
    //     document.querySelectorAll('.delete-post-form').forEach(form => {
    //     form.addEventListener('submit', async function(event) {
    //         event.preventDefault();
    //         const formData = new FormData(this);
    //         const response = await fetch('/delete-post', {
    //             method: 'POST',
    //             body: formData
    //         });
    //         const result = await response.json();
    //         if (result.success == false) {
    //             alert(result.message);
    //         }
    //         window.location.reload();
    //     });
    // });
  </script>

  {{ template "base.html"}}
  {{ define "content"}}
    {{
      range .Posts
    }}
    {{ template "post_component.html" . }}
    {{ else }}
    <p>No posts are available. create a new one</p>
    {{
      end
    }}
  {{end}}

  <!-- <div class="flex flex-col w-full border"> -->
  <form class="w-full" action="/create-post" method="POST">
      <input type="hidden" name="username" value="{{ .Username }}" />
      <div class="w-full">
        <textarea
          class="textarea textarea-bordered rounded-0 w-full min-h-12 h-48"
          id="contents"
          name="contents"
          placeholder="Create a post ..."
          required
        ></textarea>
      </div>
      <div class="join flex flex-row justify-end">
        <label for="attach" class="btn join-item cursor-pointer">Attach</label>
        <input
          type="file"
          id="attach"
          name="attach"
          accept="image/png, image/jpeg"
          class="hidden"
        />
        <button class="btn join-item" type="button">Link</button>
        <button class="btn join-item" type="button">Share</button>
        <button class="btn join-item" type="submit">Post</button>
      </div>
    </form>
  <!-- <div class="flex flex-row"> -->
  <!-- </div> -->

  <h1>Hello</h1>
  <!-- </div> -->
  <!-- <h2 class="flex flex-col">Posts:</h2> -->
  
</html>
